<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Installing and Configuring Drivers • odbc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Installing and Configuring Drivers">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">odbc</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.6.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/setup.html">Installing and Configuring Drivers</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarks.html">Benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/develop.html">Developing odbc</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-dbi/odbc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Installing and Configuring Drivers</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-dbi/odbc/blob/main/vignettes/setup.Rmd" class="external-link"><code>vignettes/setup.Rmd</code></a></small>
      <div class="d-none name"><code>setup.Rmd</code></div>
    </div>

    
    
<p>This vignette outlines how to install common ODBC drivers and
configure them with a driver manager.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>For Unix and MacOS, ODBC drivers should be compiled against <a href="https://www.unixodbc.org/" class="external-link">unixODBC</a>. Drivers compiled against
<a href="https://www.iodbc.org/" class="external-link">iODBC</a> <em>may</em> also work, but
are not fully supported.</p>
<p>After installation of the driver manager and driver, you will have to
register the driver in a <a href="#dsn-configuration-files">odbcinst.ini</a> file for it to appear
in <code><a href="../reference/odbcListDrivers.html">odbc::odbcListDrivers()</a></code>.</p>
<div class="section level3">
<h3 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h3>
<p>Windows is bundled with ODBC libraries. However, drivers for each
database need to be installed separately. Windows ODBC drivers typically
include an installer that needs to be run and will install the driver to
the proper locations.</p>
</div>
<div class="section level3">
<h3 id="macos">MacOS<a class="anchor" aria-label="anchor" href="#macos"></a>
</h3>
<p><a href="https://brew.sh/" class="external-link">homebrew</a> can be used to easily install
database drivers on MacOS.</p>
<p>The UnixODBC driver manager is required for all databases:</p>
<pre class="shell"><code>## Install the unixODBC library
brew install unixodbc</code></pre>
<p>Most common database drivers can be installed with homebrew. Some
drivers are only available from the database vendor.</p>
<pre class="shell"><code>## Microsoft SQL Server ODBC drivers
brew tap microsoft/mssql-release https://github.com/Microsoft/homebrew-mssql-release
brew update
brew install msodbcsql17 mssql-tools

## SQL Server ODBC drivers (Free TDS)
brew install freetds

## PostgreSQL ODBC drivers
brew install psqlodbc

## MySQL ODBC drivers (and database)
brew install mysql
brew install mariadb-connector-odbc

## SQLite ODBC drivers
brew install sqliteodbc</code></pre>
<p>Some driver installations will not automatically configure the driver
with the driver manager. See the <a href="#connecting">“Connecting to a
Database”</a> section below to learn more about configuring drivers and
data sources.</p>
</div>
<div class="section level3">
<h3 id="linux---debian-ubuntu">Linux - Debian / Ubuntu<a class="anchor" aria-label="anchor" href="#linux---debian-ubuntu"></a>
</h3>
<p><a href="https://wiki.debian.org/Apt" class="external-link">apt-get</a> can be used to
easily install database drivers on Linux distributions which support it,
such as Debian and Ubuntu.</p>
<p>The UnixODBC driver manager is required for all databases:</p>
<pre class="shell"><code>## Install the unixODBC library
apt-get install unixodbc unixodbc-dev</code></pre>
<p>For SQL Server on Linux it is recommended you use the <a href="https://learn.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-ver15#ubuntu18" class="external-link">Microsoft
Drivers</a>. The code below will install some common drivers:</p>
<pre class="shell"><code>## SQL Server ODBC Drivers (Free TDS)
apt-get install tdsodbc

## PostgreSQL ODBC ODBC Driversz
apt-get install odbc-postgresql

## MySQL ODBC Drivers
apt-get install libmyodbc

## SQLite ODBC Drivers
apt-get install libsqliteodbc</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="driver-configuration">Driver configuration<a class="anchor" aria-label="anchor" href="#driver-configuration"></a>
</h2>
<p>On Windows, driver config is managed by the operating system, and you
don’t generally need to edit any configuration files directly. On MacOS
and Linux, however, the driver config is managed by unixODBC, and
depending on how the driver is installed, it may or may not be
automatically configured.</p>
<p>You can see which drivers are configured by running
<code><a href="../reference/odbcListDrivers.html">odbcListDrivers()</a></code>. If the driver you want is not installed,
you will need to edit <code>odbcinst.ini</code>. You can use
<code>odbcinst -j</code> (provided by unixODBC) to find out where this
file lives.</p>
<p>The basic form of this file is something like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="kw">[PostgreSQL Driver]</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="dt">Driver          </span><span class="ot">=</span><span class="st"> /usr/local/lib/psqlodbcw.so</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="kw">[SQLite Driver]</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="dt">Driver          </span><span class="ot">=</span><span class="st"> /usr/local/lib/libsqlite3odbc.dylib</span></span></code></pre></div>
<p>i.e., a mapping between driver names, and the location of the driver
file. The driver name is what you pass to <code><a href="../reference/dbConnect-OdbcDriver-method.html">odbc::odbc()</a></code> when
you connect, e,g:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span></span>
<span><span class="va">con1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">dbConnect</a></span><span class="op">(</span><span class="fu">odbc</span><span class="fu">::</span><span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">odbc</a></span><span class="op">(</span><span class="op">)</span>, driver <span class="op">=</span> <span class="st">"PostgreSQL Driver"</span><span class="op">)</span></span>
<span><span class="va">con2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">dbConnect</a></span><span class="op">(</span><span class="fu">odbc</span><span class="fu">::</span><span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">odbc</a></span><span class="op">(</span><span class="op">)</span>, driver <span class="op">=</span> <span class="st">"SQLite Driver"</span><span class="op">)</span></span></code></pre></div>
<p>If installing the driver did not automatically update this file,
you’ll need to update it yourself. You’ll need to figure out where the
driver library was installed, using something like
<code>brew list {drivername}</code> or
<code>dpkg-query -L {drivername}</code>.</p>
</div>
<div class="section level2">
<h2 id="data-source-configuration">Data source configuration<a class="anchor" aria-label="anchor" href="#data-source-configuration"></a>
</h2>
<p>It’s also possible to configure named data sources, so instead of
typing this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">dbConnect</a></span><span class="op">(</span></span>
<span>  <span class="fu">odbc</span><span class="fu">::</span><span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">odbc</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  driver <span class="op">=</span> <span class="st">"PostgreSQL Driver"</span>,</span>
<span>  database <span class="op">=</span> <span class="st">"test_db"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"postgres"</span>,</span>
<span>  password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"PASSWORD"</span><span class="op">)</span>,</span>
<span>  host <span class="op">=</span> <span class="st">"localhost"</span>,</span>
<span>  port <span class="op">=</span> <span class="fl">5432</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can type:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">dbConnect</a></span><span class="op">(</span><span class="fu">odbc</span><span class="fu">::</span><span class="fu"><a href="../reference/dbConnect-OdbcDriver-method.html">odbc</a></span><span class="op">(</span><span class="op">)</span>, dsn <span class="op">=</span> <span class="st">"test_db"</span><span class="op">)</span></span></code></pre></div>
<p>On Windows, you can set up a data source by using the <a href="https://learn.microsoft.com/en-us/sql/odbc/admin/odbc-data-source-administrator" class="external-link">ODBC
Data Source Administrator</a> application is used to manage ODBC data
sources on Windows. On Linux and Mac, you’ll need to edit
<code>odbc.ini</code> (again finding the location with
<code>odbcinst -j</code>). Each data source is defined in a separate
section (defined by <code>[name]</code>]), with each paramter going on
its own line, e.g.:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">[test_db]</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="dt">driver     </span><span class="ot">=</span><span class="st"> PostgreSQL Driver</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="dt">database   </span><span class="ot">=</span><span class="st"> test_db</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="dt">username   </span><span class="ot">=</span><span class="st"> postgres</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="dt">password   </span><span class="ot">=</span><span class="st"> password</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="dt">host       </span><span class="ot">=</span><span class="st"> </span><span class="kw">localhost</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="dt">port       </span><span class="ot">=</span><span class="st"> </span><span class="dv">5432</span></span></code></pre></div>
<p>The <code>driver</code> entry represents the name of the driver
defined in <code>odbcinst.ini</code>. You can see all currently defined
data sources by running <code><a href="../reference/odbcListDataSources.html">odbcListDataSources()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="debugging-driver-and-data-source-configurations">Debugging driver and data source configurations<a class="anchor" aria-label="anchor" href="#debugging-driver-and-data-source-configurations"></a>
</h2>
<p>The odbc package may have trouble locating your driver and data
source configurations. If you find that <code><a href="../reference/odbcListDrivers.html">odbcListDrivers()</a></code>
and <code><a href="../reference/odbcListDataSources.html">odbcListDataSources()</a></code> report no configurations, check
the output of <code><a href="../reference/odbcListConfig.html">odbcListConfig()</a></code> next. While
<code><a href="../reference/odbcListDrivers.html">odbcListDrivers()</a></code> and <code><a href="../reference/odbcListConfig.html">odbcListConfig()</a></code>
interface with the unixodbc driver manager through nanodbc—the tool that
the odbc package uses to interface with the ODBC
API—<code><a href="../reference/odbcListConfig.html">odbcListConfig()</a></code> interfaces with unixODBC directly.
<code><a href="../reference/odbcListConfig.html">odbcListConfig()</a></code> will show where unixODBC is looking for
your configurations.</p>
<ul>
<li><p>If the files listed in <code><a href="../reference/odbcListConfig.html">odbcListConfig()</a></code> are at a
location other than where you’ve configured drivers and data sources,
either 1) configure the listed files as instructed above, or 2) change
the folder where ODBC should look for configurations using the
<code>ODBCSYSINI</code> environmental variable. See <a href="#odbcsysini">the following section</a> on setting
<code>ODBCSYSINI</code>.</p></li>
<li><p>If the files listed in <code><a href="../reference/odbcListConfig.html">odbcListConfig()</a></code> are where
you expected them to be and appear complete, the odbc package may have
had trouble interfacing with the unixODBC driver manager through
nanodbc. To remedy this, first run
<code>dirname(odbcListConfig()[1])</code> and note its output. Then,
follow the instructions in <a href="#odbcsysini">the section below</a>,
replacing <code>"some/folder"</code> with the noted output. If this
doesn’t resolve the issue, try to build the odbc package from source,
e.g. with <code>devtools::install_github("r-dbi/odbc")</code>.</p></li>
</ul>
<div class="section level3">
<h3 id="odbcsysini">Setting <code>ODBCSYSINI</code><a class="anchor" aria-label="anchor" href="#odbcsysini"></a>
</h3>
<p>The <code>ODBCSYSINI</code> environmental variable controls the path
where unixODBC and the odbc package will look for configuration files.
Setting <code>Sys.setenv(ODBCSYSINI = "some/folder")</code> means that
your configuration files should be located at
<code>"/my/folder/odbc.ini"</code> and
<code>"/my/folder/odbcinst.ini"</code>. Be sure to set
<code>ODBCSYSINI</code> <em>before</em> loading the odbc package. That
is:</p>
<ul>
<li>Restart R</li>
<li>Run <code>Sys.setenv(ODBCSYSINI = "some/folder")</code>
</li>
<li>Load the odbc package with <code><a href="https://odbc.r-dbi.org">library(odbc)</a></code>
</li>
<li>Test <code><a href="../reference/odbcListDrivers.html">odbcListDrivers()</a></code> and
<code><a href="../reference/odbcListDataSources.html">odbcListDataSources()</a></code> again</li>
</ul>
<p>If setting <code>ODBCSYSINI</code> resolves the issue you’ve noted,
you may want to set that environmental variable every time you start R.
To do so, add an entry like <code>ODBCSYSINI = some/folder</code> to
your <code>~/.Renviron</code> file, which contains environmental
variables that are set every time an R session is started. To open that
file using R, run <code>usethis::edit_r_environ()</code>.</p>
<p>Once you’ve edited <code>~/.Renviron</code>, you’ll need to save the
file and restart R for changes to take effect.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jim Hester, Hadley Wickham, <a href="https://github.com/detule" class="external-link">Oliver Gjoneski</a>, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
